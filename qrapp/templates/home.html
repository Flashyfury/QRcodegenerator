{% extends 'base.html' %}
{% block content %}
<div class="row">
  <div class="col-md-6">
    <h3>Generate QR</h3>
    <form method="post" enctype="multipart/form-data" id="qr-form">
      {% csrf_token %}
      {{ form.as_p }}
      <button class="btn btn-primary" type="submit">Generate & Save</button>
      <small class="form-text text-muted">If not logged in, saving requires login.</small>
    </form>
  </div>
  <div class="col-md-6">
    <h3>Live Scannable Preview</h3>
    <div id="preview-area" style="width:100%; max-width:500px;">
      <canvas id="preview-canvas" width="300" height="300" style="border:1px solid #ddd;"></canvas>
      <div id="logo-overlay" style="position:relative; margin-top:-300px; height:0; pointer-events:none;"></div>
    </div>
    <div class="mt-2">
      <a id="download-preview" class="btn btn-secondary" href="#">Download Preview</a>
    </div>
  </div>
</div>
{% endblock %}
